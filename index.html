<script>
const ENDPOINT = "https://script.google.com/macros/s/AKfycbxosVggsq16qGw4N384_ywl2IZhV0Gq6ASzGsW5hoRFdvpkZG5F0il7fti5-VqK6_Av/exec";

document.getElementById('signup-form').addEventListener('submit', async (e) => {
  e.preventDefault();
  const email = e.target.email.value.trim();
  const city  = e.target.city.value.trim();
  const msg   = document.getElementById('message');
  msg.textContent = "Submittingâ€¦";

  try {
    const res = await fetch(ENDPOINT, {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8" },
      body: new URLSearchParams({ email, city }).toString()
    });

    if (res.ok) {
      msg.textContent = "Thanks! Youâ€™re on the list ðŸ’«";
      e.target.reset();
    } else {
      msg.textContent = "Server error. Try again.";
    }
  } catch {
    msg.textContent = "Network error. Please try again.";
  }
});
</script>
